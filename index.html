<!DOCTYPE html>
<html lang="es">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Gestión de Ventas</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css" rel="stylesheet" />
  <link rel="stylesheet" href="css/styles.css" />
</head>

<body>
  <div class="container mt-5">
    <h1 class="text-center mb-4">Gestión de Ventas</h1>
    <ul class="nav nav-tabs" id="myTab" role="tablist">
      <li class="nav-item" role="presentation">
        <button class="nav-link active" id="products-tab" data-bs-toggle="tab" data-bs-target="#products" type="button"
          role="tab" aria-controls="products" aria-selected="true">Productos</button>
      </li>
      <li class="nav-item" role="presentation">
        <button class="nav-link" id="clients-tab" data-bs-toggle="tab" data-bs-target="#clients" type="button"
          role="tab" aria-controls="clients" aria-selected="false">Clientes</button>
      </li>
      <li class="nav-item" role="presentation">
        <button class="nav-link" id="sales-tab" data-bs-toggle="tab" data-bs-target="#sales" type="button" role="tab"
          aria-controls="sales" aria-selected="false">Ventas</button>
      </li>
    </ul>
    <div class="tab-content" id="myTabContent">
      <div class="tab-pane fade show active" id="products" role="tabpanel" aria-labelledby="products-tab">
        <div class="card mt-4">
          <div class="card-header">
            <h2 class="text-center">Registro de Productos</h2>
          </div>
          <div class="card-body">
            <form id="productForm" class="mb-4">
              <div class="mb-3">
                <label for="productName" class="form-label">Nombre del Producto</label>
                <input type="text" class="form-control" id="productName" required />
              </div>
              <div class="mb-3">
                <label for="productPrice" class="form-label">Precio</label>
                <input type="number" class="form-control" id="productPrice" required />
              </div>
              <div class="mb-3">
                <label for="productStock" class="form-label">Stock Inicial</label>
                <input type="number" class="form-control" id="productStock" required />
              </div>
              <button type="submit" class="btn btn-primary w-100">Registrar Producto</button>
            </form>
          </div>
        </div>
        <div class="card mt-4">
          <div class="card-header">
            <h2 class="text-center">Listado de Productos</h2>
          </div>
          <div class="card-body">
            <table class="table table-striped">
              <thead>
                <tr>
                  <th>Nombre</th>
                  <th>Precio</th>
                  <th>Stock</th>
                  <th>Acciones</th>
                </tr>
              </thead>
              <tbody id="productList">
                <!-- Aquí se agregarán los productos -->
              </tbody>
            </table>
          </div>
        </div>
      </div>
      <div class="tab-pane fade" id="clients" role="tabpanel" aria-labelledby="clients-tab">
        <div class="card mt-4">
          <div class="card-header">
            <h2 class="text-center">Registro de Clientes</h2>
          </div>
          <div class="card-body">
            <form id="clientForm" class="mb-4">
              <div class="mb-3">
                <label for="clientName" class="form-label">Nombre del Cliente</label>
                <input type="text" class="form-control" id="clientName" required />
              </div>
              <div class="mb-3">
                <label for="clientEmail" class="form-label">Email</label>
                <input type="email" class="form-control" id="clientEmail" required />
              </div>
              <button type="submit" class="btn btn-primary w-100">Registrar Cliente</button>
            </form>
          </div>
        </div>
        <div class="card mt-4">
          <div class="card-header">
            <h2 class="text-center">Listado de Clientes</h2>
          </div>
          <div class="card-body">
            <table class="table table-striped">
              <thead>
                <tr>
                  <th>Nombre</th>
                  <th>Email</th>
                  <th>Acciones</th>
                </tr>
              </thead>
              <tbody id="clientList">
                <!-- Aquí se agregarán los clientes -->
              </tbody>
            </table>
          </div>
        </div>
      </div>
      <div class="tab-pane fade" id="sales" role="tabpanel" aria-labelledby="sales-tab">
        <div class="card mt-4">
          <div class="card-header">
            <h2 class="text-center">Registrar Venta</h2>
          </div>
          <div class="card-body">
            <form id="salesForm" class="mb-4">
              <div class="mb-3">
                <label for="selectClient" class="form-label">Cliente:</label>
                <select class="form-select" id="selectClient" required>
                  <!-- Aquí se agregarán los clientes -->
                </select>
              </div>
              <div id="productContainer">
                <div class="mb-3">
                  <label for="selectProduct" class="form-label">Producto:</label>
                  <select class="form-select selectProduct" required>
                    <!-- Aquí se agregarán los productos -->
                  </select>
                  <label for="productQuantity" class="form-label mt-2">Cantidad</label>
                  <input type="number" class="form-control productQuantity" required />
                </div>
              </div>
              <button type="button" class="btn btn-secondary mb-3" id="addProduct">Agregar Producto</button>
              <div class="mb-3">
                <label for="totalSale" class="form-label">Total de la Venta</label>
                <input type="text" class="form-control" id="totalSale" readonly />
              </div>
              <button type="submit" class="btn btn-primary w-100">Confirmar Venta</button>
            </form>
          </div>
        </div>
        <div class="card mt-4">
          <div class="card-header">
            <h2 class="text-center">Listado de Ventas</h2>
          </div>
          <div class="card-body">
            <table class="table" id="salesTable">
              <thead>
                  <tr>
                      <th>Cliente</th>
                      <th>Productos</th>
                      <th>Total</th>
                      <th>Compras Totales</th> <!-- Nueva columna -->
                      <th>Acciones</th>
                  </tr>
              </thead>
              <tbody id="salesList">
                  <!-- Las ventas se agregarán aquí dinámicamente -->
              </tbody>
          </table>
          
          </div>
        </div>
      </div>
    </div>
  </div>

  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/js/bootstrap.bundle.min.js"></script>
  <script src="./js/models/Customer.js"></script>
  <script src="./js/models/Product.js"></script>
  <script src="./js/models/Sale.js"></script>
  <script src="js/app.js"></script>
</body>

</html>